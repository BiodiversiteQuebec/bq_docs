---
title: DÃ©ploiement d'une app Shiny
---


[Repo Github](https://github.com/ReseauBiodiversiteQuebec/shiny_hooks_node/blob/main/README.md)


# Steps to add a web hook for a repository

1. Create a new SSH key with 

```bash
ssh-keygen -t rsa -f ~/.ssh/id_rsa.REPONAME
```

2. Add the `id_rsa.REPONAME.pub` file as a deploy key to the Github repo

3. Edit the `~/.ssh/config` file to add

```bash
Host tableau-rarefaction.github.com
  HostName github.com
  User git
  IdentityFile /home/shiny/.ssh/id_rsa.REPONAME
```

4. Git clone the repository with

```bash
git clone git@REPONAME.github.com:ReseauBiodiversiteQuebec/REPONAME.git
```

5. Edit the `hook.js` file of the shiny_hooks_node app (`~/shiny_hooks_node`) to add the repo.

6. Edit the `.sh` file (for example `tableau_rarefaction_webhook.sh`) with the proper commands.

7. Restart shiny hook with

```bash
sudo pm2 restart shiny-hook
```

8. Add the webhook to the GitHub repo (settings -> Webhooks) using https://coleo.biodiversite-quebec.ca/shiny-hook/


Associated [Github repository](https://github.com/ReseauBiodiversiteQuebec/shiny_hooks_node)